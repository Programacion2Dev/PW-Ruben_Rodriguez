<!-- SECCIÓN CONTACTO -->
<section id="section_contact">
    <div class="container">
        <h2 class="text-center subtitle-page">CONTACTA AL GINECÓLOGO</h2>
        <div class="row" style="margin-top:30px;">
            <!-- INFORMACIÓN DE CONTACTO -->
            <div class="col-12 col-md-7 col-lg-5 mb-3">
                <div class="contact-info-group text-gral" style="margin-bottom:60px;">
                    <h3>
                        <i class="fa-solid fa-clock contact-icon"></i>
                        <span class="subtitulo" style="color:#000;"> Horarios</span>
                    </h3>
                    <span class="subtitulo" style="color:#000;">Lunes a Viernes</span><br/>
                    8:00 am - 8:00 pm<br/>
                    <span class="subtitulo" style="color:#000;">Sábado</span><br/>
                    8:00 am - 3:00 pm<br/>
                    Previa cita.
                </div>

                <div class="contact-info-group text-gral" style="margin-bottom:60px;">
                    <h3>
                        <i class="fa-solid fa-phone contact-icon"></i>
                        <span class="subtitulo" style="color:#000;"> Teléfonos</span>
                    </h3>
                    <span class="subtitulo" style="color:#000;">Citas</span> 664 478 3108<br/>
                    <span class="subtitulo" style="color:#000;">WhatsApp</span> 664 174 3027<br/>
                    <span class="subtitulo" style="color:#000;">Urgencias</span> 664 174 3027<br/>
                </div>

                <div class="contact-info-group text-gral" style="margin-bottom:60px;">
                    <h3>
                        <i class="fa-solid fa-location-dot contact-icon"></i>
                        <span class="subtitulo" style="color: #000;"> Dirección</span>
                    </h3>
                    <p style="margin-bottom:30px">Antonio Caso 2055, Zona Urbana Rio Tijuana, 22010 Tijuana, B.C.</p>

                    <a href="https://api.whatsapp.com/send?phone=5216641743027" target="_blank" class="btn btn-custom text-center mb-3 text-gral" title="WhatsApp" style="width: auto;">Agenda una cita</a>
                </div>

                <div class="contact-info-group">
                    <h3 class="subtitulo" style="color:#000;">Redes sociales</h3>
                    <div class="navbar-social-icons" style="margin-top:0;">
                        <a href="https://www.facebook.com/DrRubenRodriguezCastroGinecologo" class="text-decoration-none" target="_blank" rel="nofollow noreferrer noopener" title="Facebook">
                            <x-picture
                                src="/imgs/icons/fb-dental-tourism-footer"
                                class="img-fluid"
                                width="36"
                                height="36"
                                alt="Facebook"
                                loading="lazy"
                            />
                        </a>
                        <a href="https://www.instagram.com/drrubenrodriguez.ginecologo" class="text-decoration-none" target="_blank" rel="nofollow noreferrer noopener" title="Instagram">
                            <x-picture
                                src="/imgs/icons/instagram"
                                class="img-fluid"
                                width="36"
                                height="36"
                                alt="Instagram"
                                loading="lazy"
                            />
                        </a>
                        {{-- <a href="[Dr.'s data]" class="text-decoration-none" target="_blank" rel="nofollow noreferrer noopener" title="Tiktok">
                            <x-picture
                                src="/imgs/icons/tiktok-footer-doctor-especialistas"
                                class="img-fluid"
                                width="36"
                                height="36"
                                alt="Tiktok"
                                loading="lazy"
                            />
                        </a> --}}
                        {{-- <a href="[Dr.'s data]" class="text-decoration-none" target="_blank" rel="nofollow noreferrer noopener" title="X">
                            <x-picture
                                src="/imgs/icons/twitter-footer-doctor-especialistas"
                                class="img-fluid"
                                width="36"
                                height="36"
                                alt="X"
                                loading="lazy"
                            />
                        </a> --}}
                        {{-- <a href="[Dr.'s data]" class="text-decoration-none" target="_blank" rel="nofollow noreferrer noopener" title="LinkedIn">
                            <x-picture
                                src="/imgs/icons/linked-in-logo"
                                class="img-fluid"
                                width="36"
                                height="36"
                                alt="LinkedIn"
                                loading="lazy"
                            />
                        </a> --}}
                        {{-- <a href="[Dr.'s data]" class="text-decoration-none" target="_blank" rel="nofollow noreferrer noopener" title="YouTube">
                            <x-picture
                                src="/imgs/icons/youtube-dental-tourism-footer"
                                class="img-fluid"
                                width="36"
                                height="36"
                                alt="YouTube"
                                loading="lazy"
                            />
                        </a> --}}
                    </div>
                </div>
            </div>

            <!-- FOTOS DE LA CLINICA Y MAPA -->
            <div class="col-12 col-md-5 col-lg-6">
                <div class="row" style="margin-top:10px;">
                    <div class="col-12 col-md-8 offset-md-4 mb-3 text-center">
                        <button 
                            class="btn p-0 border-0"
                            data-bs-toggle="modal"
                            data-bs-target="#galleryModal"
                            style="cursor: pointer; background: none; display: block; width: 100%; text-align: left;"
                        >
                            <x-picture
                                src="/imgs/dr/img-clinica-1-ruben-rodriguez-ginecologo-tijuana"
                                class="img-fluid center-on-mobile pull-right"
                                width="377"
                                height="246"
                                alt="Foto de la clinica"
                                loading="lazy"
                            />
                        </button>
                        <span class="subtitulo" style="color: #000;">Da clic a la imagen para ver más</span>
                        
                    </div>
                    <div class="col-12 map-container mb-3">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d3364.0605220241214!2d-117.023307!3d32.5245305!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80d949072c2794a9%3A0x649b03ea1e1d6b39!2sDr%20Ruben%20Rodriguez%20-%20Ginec%C3%B3logo%20en%20Tijuana!5e0!3m2!1sen!2smx!4v1769195187871!5m2!1sen!2smx" width="100%" height="auto" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Mapa de la ubicación del Dr."></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- MODAL DE GALERÍA -->
<div class="modal fade" id="galleryModal" tabindex="-1" aria-labelledby="galleryModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="galleryModalLabel"><strong>Galería de la clínica</strong></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <!-- Imagen principal -->
                    <div class="mb-3 text-center">
                        <div id="mainPictureContainer">
                            <x-picture
                                id="mainImage"
                                src="/imgs/dr/img-clinica-1-ruben-rodriguez-ginecologo-tijuana"
                                class="img-fluid center-on-mobile"
                                width="377"
                                height="246"
                                alt="Foto de la clinica"
                                loading="lazy"
                            />
                        </div>
                    </div>
                    
                    <!-- Miniaturas -->
                    <div class="row g-2 mt-3">
                        <div class="col-4">
                            <button 
                                class="btn btn-light w-100 p-0 border thumbnail-btn active" 
                                data-src="/imgs/dr/img-clinica-1-ruben-rodriguez-ginecologo-tijuana"
                                style="overflow: hidden; height: 100px;"
                            >
                                <x-picture
                                    src="/imgs/dr/img-clinica-1-ruben-rodriguez-ginecologo-tijuana"
                                    class="img-fluid w-100 h-100"
                                    alt="Miniatura 1"
                                    style="object-fit: cover;"
                                    loading="lazy"
                                />
                            </button>
                        </div>
                        <div class="col-4">
                            <button 
                                class="btn btn-light w-100 p-0 border thumbnail-btn" 
                                data-src="/imgs/dr/img-clinica-2-ruben-rodriguez-ginecologo-tijuana"
                                style="overflow: hidden; height: 100px;"
                            >
                                <x-picture
                                    src="/imgs/dr/img-clinica-2-ruben-rodriguez-ginecologo-tijuana"
                                    class="img-fluid w-100 h-100"
                                    alt="Miniatura 2"
                                    style="object-fit: cover;"
                                    loading="lazy"
                                />
                            </button>
                        </div>
                        <div class="col-4">
                            <button 
                                class="btn btn-light w-100 p-0 border thumbnail-btn" 
                                data-src="/imgs/dr/img-clinica-3-ruben-rodriguez-ginecologo-tijuana"
                                style="overflow: hidden; height: 100px;"
                            >
                                <x-picture
                                    src="/imgs/dr/img-clinica-3-ruben-rodriguez-ginecologo-tijuana"
                                    class="img-fluid w-100 h-100"
                                    alt="Miniatura 3"
                                    style="object-fit: cover;"
                                    loading="lazy"
                                />
                            </button>
                        </div>
                        <div class="col-4">
                            <button 
                                class="btn btn-light w-100 p-0 border thumbnail-btn" 
                                data-src="/imgs/dr/img-clinica-4-ruben-rodriguez-ginecologo-tijuana"
                                style="overflow: hidden; height: 100px;"
                            >
                                <x-picture
                                    src="/imgs/dr/img-clinica-4-ruben-rodriguez-ginecologo-tijuana"
                                    class="img-fluid w-100 h-100"
                                    alt="Miniatura 4"
                                    style="object-fit: cover;"
                                    loading="lazy"
                                />
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .thumbnail-btn {
        transition: all 0.3s ease;
        border: 2px solid transparent !important;
    }
    .thumbnail-btn:hover {
        opacity: 0.8;
        transform: scale(1.02);
    }
    .thumbnail-btn.active {
        border-color: #007bff !important;
        box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // console.log('Galería inicializando...');
        
        // Agregar evento a cada botón
        document.querySelectorAll('.thumbnail-btn').forEach(function(button) {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Obtener la ruta de la imagen
                var baseSrc = this.getAttribute('data-src');
                // console.log('Cambiando a imagen:', baseSrc);
                
                if (!baseSrc) return;
                
                // 1. Buscar y actualizar la imagen principal
                // Buscar dentro del contenedor principal
                var container = document.getElementById('mainPictureContainer');
                if (container) {
                    // Buscar elementos source
                    var sources = container.querySelectorAll('source');
                    if (sources.length >= 2) {
                        sources[0].srcset = baseSrc + '.webp';
                        sources[1].srcset = baseSrc + '.png';
                        // console.log('Sources actualizados');
                    }
                    
                    // Buscar elemento img
                    var img = container.querySelector('img');
                    if (img) {
                        img.src = baseSrc + '.png';
                        // console.log('Imagen actualizada');
                    }
                }
                
                // 2. Actualizar clase active
                document.querySelectorAll('.thumbnail-btn').forEach(function(btn) {
                    btn.classList.remove('active');
                });
                this.classList.add('active');
                
                // console.log('Galería actualizada correctamente');
            });
        });
        
        // console.log('Galería lista');
    });
</script>